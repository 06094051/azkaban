<!DOCTYPE html> 
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title></title>

				<link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
    <!-- Bootstrap core CSS -->
    <link href="/css/bootstrap.css" rel="stylesheet">
		<link href="/css/azkaban.css" rel="stylesheet">

		<script type="text/javascript" src="/js/jquery-1.9.1.js"></script>    
		<script type="text/javascript" src="/js/bootstrap.min.js"></script>    


	</head>
	<body>
		    <script type="text/javascript">
      function navMenuClick(url) {
        window.location.href = url;
      }
    </script>
    <div class="navbar navbar-inverse navbar-static-top">
      <div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<div class="navbar-logo">
						<a href="/">Azkaban</a>
					</div>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
						<li onClick="navMenuClick('overview.html')"><a href="overview.html">Overview</a></li>
						<li class="active" onClick="navMenuClick('/')"><a href="/">Documentation</a></li>
						<li onClick="navMenuClick('downloads.html')"><a href="downloads.html">Downloads</a></li>
						<li onClick="navMenuClick('license.html')"><a href="license.html">License</a></li>
						<li onClick="navMenuClick('contact.html')"><a href="contact.html">Contact</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>



		<div class="az-page-header">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<h1></h1>
					</div>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row">
				<div class="col-md-3">
										<div class="bs-sidebar hidden-print" role="complementary">
						<ul class="bs-sidenav nav">
							<li>
								<a href="#getting-started">Getting Started</a>
								<ul class="nav">
									<li><a href="#database-setup">Database Setup</a></li>
									<li><a href="#webserver-setup">Web Server Setup</a></li>
									<li><a href="#executor-setup">Executor Setup</a></li>
									<li><a href="#plugin-setup">Plugin Setup</a></li>
									<li><a href="#upgrade-21">Upgrade from 2.1</a></li>
								</ul>
							</li>
							<li>
								<a href="#configuration">Configuration</a>
								<ul class="nav">
									<li><a href="#azkaban-webserver">AzkabanWebServer</a></li>
									<li><a href="#azkaban-execserver">AzkabanExecutorServer</a></li>
								</ul>
							</li>
							<li>
								<a href="#user-manager">User Manager</a>
								<ul class="nav">
									<li><a href="#xml-usermanager">XmlUserManager</a></li>
									<li><a href="#custom-usermanager">Custom UserManager</a></li>
								</ul>
							</li>
							<li>
								<a href="#creating-flows">Creating Flows</a>
								<ul class="nav">
									<li><a href="#job-conf">Job Configuration</a></li>
									<li><a href="#builtin-jobtypes">Built-in JobTypes</a></li>
								</ul>
							</li>
							<li>
								<a href="#using-azkaban">Using Azkaban</a>
								<ul class="nav">
									<li><a href="#create-projects">Create Projects</a></li>
									<li><a href="#upload-projects">Upload Projects</a></li>
									<li><a href="#flow-view">Flow View</a></li>
									<li><a href="#project-permissions">Project Permissions</a></li>
									<li><a href="#executing-flows">Executing Flows</a></li>
									<li><a href="#executions">Executions</a></li>
									<li><a href="#job-page">Job Page</a></li>
									<li><a href="#ajax-api">AJAX API</a></li>
								</ul>
							</li>
							<li>
								<a href="#plugins">Plugins</a>
								<ul class="nav">
									<li><a href="#hadoopsecuritymanager">HadoopSecurityManager</a></li>
									<li><a href="#hdfs-browser">HDFS Browser</a></li>
									<li><a href="#jobtype-plugins">JobType Plugins</a></li>
									<li>
										<a href="#jobtypes">JobTypes</a>
										<ul class="nav">
											<li><a href="#command-type">Command</a></li>
											<li><a href="#java-type">Java</a></li>
											<li><a href="#hadoopjava-type">Hadoop Java</a></li>
											<li><a href="#pig-type">Pig</a></li>
											<li><a href="#hive-type">Hive</a></li>
											<li><a href="#voldemortbuildandpush-type">VoldemortBuildAndPush</a></li>
											<li><a href="#create-types">Create Types</a></li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</div>


				</div>
				<div class="col-md-9">
					<h1 id="xmlusermanager">XmlUserManager</h1>

<p>The XmlUserManager is the default UserManager that is built into Azkaban. To explicitly set the parameters that configure the XmlUserManager, the following parameters can be set in the <em>azkaban.properties</em> file.</p>
<table class="params"><thead><tr><th class="parameter">Parameter</th><th class="default">Default</th></tr></thead><tbody><tr><td style="text-align: left;">user.manager.class</td><td style="text-align: left;">azkaban.user.XmlUserManager</td></tr>
<tr><td style="text-align: left;">user.manager.xml.file</td><td style="text-align: left;">azkaban-users.xml</td></tr>
</tbody></table>
<p>The other file that needs to be modified is the <em>azkaban-users.xml</em> file. The XmlUserManager will parse the user xml file once during startup to set up the users.</p>

<p>Everything must be enclosed in a <em>azkaban-users</em> tag.</p>
<pre class='code'>
&lt;azkaban-users&gt;
	...
&lt;/azkaban-users&gt;
</pre><hr />
<h3 id="users">Users</h3>

<p>To add users, add the <em>user</em> tag.</p>
<pre class='code'>
&lt;azkaban-users&gt;
  &lt;user username="myusername" password="mypassword" roles="a" groups="mygroup" / &gt;
  &lt;user username="myusername2" password="mypassword2" roles="a, b" groups="ga, gb" / &gt;
  ...
&lt;/azkaban-users&gt;
</pre><table class="params"><thead><tr><th class="parameter">Attributes</th><th class="default">Values</th><th class="default">Required?</th></tr></thead><tbody><tr><td style="text-align: left;">username</td><td style="text-align: left;">The login username.</td><td style="text-align: left;">yes</td></tr>
<tr><td style="text-align: left;">password</td><td style="text-align: left;">The login password.</td><td style="text-align: left;">yes</td></tr>
<tr><td style="text-align: left;">roles</td><td style="text-align: left;">Comma delimited list of roles that this user has.</td><td style="text-align: left;">no</td></tr>
<tr><td style="text-align: left;">groups</td><td style="text-align: left;">Comma delimited list of groups that the users belongs to.</td><td style="text-align: left;">no</td></tr>
<tr><td style="text-align: left;">proxy</td><td style="text-align: left;">Comma delimited list of proxy users that this users can give to a project</td><td style="text-align: left;">no</td></tr>
</tbody></table><hr />
<h3 id="groups">Groups</h3>

<p>To define each group, you can add the <em>group</em> tag.</p>
<pre class='code'>
&lt;azkaban-users&gt;
  &lt;user username="a" ... groups="groupa" / &gt;
  ...
  &lt;group name="groupa" roles="myrole" / &gt;
  ...
&lt;/azkaban-users&gt;
</pre>
<p>In the previous example, user ‘a’ is in the group ‘groupa’. User ‘a’ would also have the ‘myrole’ role. A regular user cannot add group permissions to a project unless they are members of that group.</p>

<p>The following are some group attributes that you can assign.</p>
<table class="params"><thead><tr><th class="parameter">Attributes</th><th class="default">Values</th><th class="default">Required?</th></tr></thead><tbody><tr><td style="text-align: left;">name</td><td style="text-align: left;">The group name</td><td style="text-align: left;">yes</td></tr>
<tr><td style="text-align: left;">roles</td><td style="text-align: left;">Comma delimited list of roles that this user has.</td><td style="text-align: left;">no</td></tr>
</tbody></table><hr />
<h3 id="roles">Roles</h3>

<p>Roles are different in that it assigns global permissions to users in Azkaban. You can set up roles with the <em>roles</em> tag.</p>
<pre class='code'>
&lt;azkaban-users&gt;
  &lt;user username="a" ... groups="groupa" roles="readall" / &gt;
  &lt;user username="b" ... / &gt;
  ...
  &lt;group name="groupa" roles="admin" / &gt;
  ...
  &lt;role name="admin" permissions="ADMIN" / &gt;
  &lt;role name="readall" permissions="READ" / &gt;
&lt;/azkaban-users&gt;
</pre>
<p>In the above example, user ‘a’ has the role ‘readall’, which is defined as having the READ permission. This means that user ‘a’ has global READ access on all the projects and executions. User ‘a’ also is in ‘groupa’, which has the role ADMIN. It’s certainly redundant, but user ‘a’ is also granted the ADMIN role on all projects.</p>

<p>The following are some group attributes that you can assign.</p>
<table class="params"><thead><tr><th class="parameter">Attributes</th><th class="default">Values</th><th class="default">Required?</th></tr></thead><tbody><tr><td style="text-align: left;">name</td><td style="text-align: left;">The group name</td><td style="text-align: left;">yes</td></tr>
<tr><td style="text-align: left;">permissions</td><td style="text-align: left;">Comma delimited list global permissions for the role</td><td style="text-align: left;">yes</td></tr>
</tbody></table>
<p>The possible role permissions are the following:</p>
<table class="params"><thead><tr><th class="parameter">Permissions</th><th class="default">Values</th></tr></thead><tbody><tr><td style="text-align: left;">ADMIN</td><td style="text-align: left;">Grants all access to everything in Azkaban.</td></tr>
<tr><td style="text-align: left;">READ</td><td style="text-align: left;">Gives users read only access to every project and their logs</td></tr>
<tr><td style="text-align: left;">WRITE</td><td style="text-align: left;">Allows users to upload files, change job properties or remove any project</td></tr>
<tr><td style="text-align: left;">EXECUTE</td><td style="text-align: left;">Allows users to trigger the execution of any flow</td></tr>
<tr><td style="text-align: left;">SCHEDULE</td><td style="text-align: left;">Users can add or remove schedules for any flows</td></tr>
<tr><td style="text-align: left;">CREATEPROJECTS</td><td style="text-align: left;">Allows users to create new projects if project creation is locked down</td></tr>
</tbody></table>
				</div>
			</div>
		</div>

		<script>
			$(function(){
				$(document.body).scrollspy({
					target: '.bs-sidebar'
				});
			 // back to top
				setTimeout(function () {
					var $sideBar = $('.bs-sidebar')
					$sideBar.affix({
						offset: {
							top: function () {
								var navOuterHeight = $('.navbar').height();
								var headerHeight = $('.az-page-header').height();

								return (this.top = navOuterHeight + headerHeight);
							},
							bottom: function () {
								return (this.bottom = $('.page-footer').outerHeight(true));
							}
						}
					});
				}, 100)
			});
		</script>

				<div class="page-footer">
			<div class="container">
				<div class="row">
					<div class="col-xs-12">
						<ul class="footer-nav">
							<li><a href="/">Documentation</a></li>
							<li><a href="downloads.html">Downloads</a></li>
							<li><a href="https://github.com/azkaban/azkaban2/issues">Issues</a></li>
							<li><a href="https://github.com/azkaban/azkaban2">Repository</a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>


	</body>
</html>

