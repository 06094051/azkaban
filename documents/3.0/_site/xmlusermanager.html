<h1 id='xmlusermanager'>XmlUserManager</h1>

<p>The XmlUserManager is the default UserManager that is built into Azkaban. To explicitly set the parameters that configure the XmlUserManager, the following parameters can be set in the <em>azkaban.properties</em> file.</p>
<table class='params'><thead><tr><th class='parameter'>Parameter</th><th class='default'>Default</th></tr></thead><tbody><tr><td style='text-align: left;'>user.manager.class</td><td style='text-align: left;'>azkaban.user.XmlUserManager</td>
</tr><tr><td style='text-align: left;'>user.manager.xml.file</td><td style='text-align: left;'>azkaban-users.xml</td>
</tr></tbody></table>
<p>The other file that needs to be modified is the <em>azkaban-users.xml</em> file. The XmlUserManager will parse the user xml file once during startup to set up the users.</p>

<p>Everything must be enclosed in a <em>azkaban-users</em> tag. <pre class='code'>
&lt;azkaban-users&gt;
	...
&lt;/azkaban-users&gt;
</pre></p>
<hr />
<h3 id='users'>Users</h3>

<p>To add users, add the <em>user</em> tag.</p>
<pre class='code'>
&lt;azkaban-users&gt;
  &lt;user username="myusername" password="mypassword" roles="a" groups="mygroup" / &gt;
  &lt;user username="myusername2" password="mypassword2" roles="a, b" groups="ga, gb" / &gt;
  ...
&lt;/azkaban-users&gt;
</pre><table class='params'><thead><tr><th class='parameter'>Attributes</th><th class='default'>Values</th><th class='default'>Required?</th></tr></thead><tbody><tr><td style='text-align: left;'>username</td><td style='text-align: left;'>The login username.</td><td style='text-align: left;'>yes</td>
</tr><tr><td style='text-align: left;'>password</td><td style='text-align: left;'>The login password.</td><td style='text-align: left;'>yes</td>
</tr><tr><td style='text-align: left;'>roles</td><td style='text-align: left;'>Comma delimited list of roles that this user has.</td><td style='text-align: left;'>no</td>
</tr><tr><td style='text-align: left;'>groups</td><td style='text-align: left;'>Comma delimited list of groups that the users belongs to.</td><td style='text-align: left;'>no</td>
</tr><tr><td style='text-align: left;'>proxy</td><td style='text-align: left;'>Comma delimited list of proxy users that this users can give to a project</td><td style='text-align: left;'>no</td>
</tr></tbody></table><hr />
<h3 id='groups'>Groups</h3>

<p>To define each group, you can add the <em>group</em> tag. <pre class='code'>
&lt;azkaban-users&gt;
  &lt;user username="a" ... groups="groupa" / &gt;
  ...
  &lt;group name="groupa" roles="myrole" / &gt;
  ...
&lt;/azkaban-users&gt;
</pre></p>

<p>In the previous example, user &#8216;a&#8217; is in the group &#8216;groupa&#8217;. User &#8216;a&#8217; would also have the &#8216;myrole&#8217; role. A regular user cannot add group permissions to a project unless they are members of that group.</p>

<p>The following are some group attributes that you can assign.</p>
<table class='params'><thead><tr><th class='parameter'>Attributes</th><th class='default'>Values</th><th class='default'>Required?</th></tr></thead><tbody><tr><td style='text-align: left;'>name</td><td style='text-align: left;'>The group name</td><td style='text-align: left;'>yes</td>
</tr><tr><td style='text-align: left;'>roles</td><td style='text-align: left;'>Comma delimited list of roles that this user has.</td><td style='text-align: left;'>no</td>
</tr></tbody></table><hr />
<h3 id='roles'>Roles</h3>

<p>Roles are different in that it assigns global permissions to users in Azkaban. You can set up roles with the <em>roles</em> tag.</p>
<pre class='code'>
&lt;azkaban-users&gt;
  &lt;user username="a" ... groups="groupa" roles="readall" / &gt;
  &lt;user username="b" ... / &gt;
  ...
  &lt;group name="groupa" roles="admin" / &gt
  ...
  &lt;role name="admin" permissions="ADMIN" / &gt;
  &lt;role name="readall" permissions="READ" / &gt;
&lt;/azkaban-users&gt;
</pre>
<p>In the above example, user &#8216;a&#8217; has the role &#8216;readall&#8217;, which is defined as having the READ permission. This means that user &#8216;a&#8217; has global READ access on all the projects and executions. User &#8216;a&#8217; also is in &#8216;groupa&#8217;, which has the role ADMIN. It&#8217;s certainly redundant, but user &#8216;a&#8217; is also granted the ADMIN role on all projects.</p>

<p>The following are some group attributes that you can assign.</p>
<table class='params'><thead><tr><th class='parameter'>Attributes</th><th class='default'>Values</th><th class='default'>Required?</th></tr></thead><tbody><tr><td style='text-align: left;'>name</td><td style='text-align: left;'>The group name</td><td style='text-align: left;'>yes</td>
</tr><tr><td style='text-align: left;'>permissions</td><td style='text-align: left;'>Comma delimited list global permissions for the role</td><td style='text-align: left;'>yes</td>
</tr></tbody></table>
<p>The possible role permissions are the following:</p>
<table class='params'><thead><tr><th class='parameter'>Permissions</th><th class='default'>Values</th></tr></thead><tbody><tr><td style='text-align: left;'>ADMIN</td><td style='text-align: left;'>Grants all access to everything in Azkaban.</td>
</tr><tr><td style='text-align: left;'>READ</td><td style='text-align: left;'>Gives users read only access to every project and their logs</td>
</tr><tr><td style='text-align: left;'>WRITE</td><td style='text-align: left;'>Allows users to upload files, change job properties or remove any project</td>
</tr><tr><td style='text-align: left;'>EXECUTE</td><td style='text-align: left;'>Allows users to trigger the execution of any flow</td>
</tr><tr><td style='text-align: left;'>SCHEDULE</td><td style='text-align: left;'>Users can add or remove schedules for any flows</td>
</tr><tr><td style='text-align: left;'>CREATEPROJECTS</td><td style='text-align: left;'>Allows users to create new projects if project creation is locked down</td>
</tr></tbody></table>