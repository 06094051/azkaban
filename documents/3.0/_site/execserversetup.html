<h1 id='setup_azkaban_executor_server'>Setup Azkaban Executor Server</h1>

<p>Azkaban Executor Server handles the actual execution of the workflow and jobs.</p>
<hr />
<h3 id='installing_the_executor_server'>Installing the Executor Server</h3>

<p>Grab the azkaban-exec-server package from the <a href='../../downloads.html'>download page</a>.</p>

<p>Alternatively, by cloning the <a href='https://github.com/azkaban/azkaban2'>github repo</a>, you can run <strong>ant -package-all</strong> build the latest version from master.</p>

<p>Extract the package into a directory. The install path should be different from the Azkaban Web Server.</p>

<p>After extraction, there should be the following directories.</p>
<br /><table class='params'><thead><tr><th>Folder</th><th>Description</th></tr></thead><tbody><tr><td style='text-align: left;'>bin</td><td style='text-align: left;'>The scripts to start Azkaban jetty server</td>
</tr><tr><td style='text-align: left;'>conf</td><td style='text-align: left;'>The configurations for Azkaban exec server</td>
</tr><tr><td style='text-align: left;'>lib</td><td style='text-align: left;'>The jar dependencies for Azkaban</td>
</tr><tr><td style='text-align: left;'>extlib</td><td style='text-align: left;'>Additional jars that are added to extlib will be added to Azkaban&#8217;s classpath</td>
</tr><tr><td style='text-align: left;'>plugins</td><td style='text-align: left;'>the directory where plugins can be installed</td>
</tr></tbody></table>
<p>In the <em>conf</em> directory, we only need to configure the <em>azkaban.properties</em> file. This file is the be the main configuration file that is necessary to setup Azkaban Executor.</p>
<hr />
<h3 id='setting_up_the_db'>Setting up the DB</h3>

<p>If you haven&#8217;t gotten the MySQL JDBC driver, you can get it from this link: <a href='http://www.mysql.com/downloads/connector/j/'>http://www.mysql.com/downloads/connector/j/</a>. Drop this jar into the <em>extlib</em> directory. All external dependencies should be added to the extlib directory.</p>

<p>To point Azkaban web client to the MySQL instance, you will need to add the connection parameters to <em>azkaban.properties</em>.</p>
<pre class='code'>
database.type=mysql
mysql.port=3306
mysql.host=localhost
mysql.database=azkaban
mysql.user=azkaban
mysql.password=azkaban
mysql.numconnections=100
</pre>
<p>Currently MySQL is the only data store type supported in Azkaban. So <em>database.type</em> should always be <em>mysql</em>.</p>
<hr />
<h3 id='configuring_azabanwebserver_and_azkabanexecutorserver_clients'>Configuring AzabanWebServer and AzkabanExecutorServer clients</h3>

<p>The Executor server needs to be setup with a port, and the AzabanWebServer will need to know what this port is. The following properties need to be set on AzkabanExecutorServer&#8217;s <em>azkaban.properties</em>.</p>
<pre class='code'>
# Azkaban Executor settings
executor.maxThreads=50
executor.port=12321
executor.flow.threads=30
</pre>
<p>By default the <em>executor.port</em> is set to 12321. The AzkabanWebServer will have to point to this port as well. This is done by setting the following property in AzkabanWebServer&#8217;s <em>azkaban.properties</em>. <pre class='code'>
executor.port=12321
</pre></p>

<p>These changes are only picked up after restarting the servers.</p>

<h3 id='running_executor_server'>Running Executor Server</h3>

<p>Execute <em>bin/azkaban-exec-start.sh</em> to start AzkabanExecutorServer. To shutdown the AzkabanExecutorServer, run <em>bin/azkaban-exec-shutdown.sh</em></p>